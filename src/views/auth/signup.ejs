<% include ./partials/header %>
<%= errors = error && error.length > 0 %>
<%= error[0] %>

<body class="auth mb-0">
  <div class="form-auth">
    <a href="/"><img class="mx-auto d-block mb-4" src="/images/logo_text.png" width="320"></a>
    <h3 class="text-center">Create account</h3>
    <% if (errors && error[0].alreadyAccount){ %>
    <div class="alert alert-danger" role="alert">
      <%= error[0].alreadyAccount %>
    </div>
    <% } %>
    <% if (success && success.length > 0){ %>
    <div class="alert alert-success" role="alert">
      <%= success %>
    </div>
    <% } %>

    <form action="/signup" method="POST" novalidate>
      <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" name="username"
          class="form-control <% if( errors && error[0].username){ %>is-invalid <% } %>" id="username"
          placeholder="Enter username" <% if(error && username) { %> value="<%= username %>" <% } %>>
        <% if (errors && error[0].username) { %>
        <small class="invalid-feedback">
          <%= error[0].username %>
        </small>
        <% } %>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" name="email"
          class="form-control <% if(error && error.length > 0 && error[0].email){ %>is-invalid <% } %>" id="email"
          placeholder="Email" <% if(error && email) { %> value="<%= email %>" <% } %>>
        <% if (errors && error[0].email) { %>
        <small class="invalid-feedback">
          <%= error[0].email %>
        </small>
        <% } %>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" name="password"
          class="form-control <% if(errors && error[0].password){ %>is-invalid <% } %>" id="password"
          placeholder="Password">
        <% if (errors && error[0].password) { %>
        <small class="invalid-feedback">
          <%= error[0].password %>
        </small>
        <% } %>
      </div>
      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" name="confirmPassword"
          class="form-control <% if(error && error.length > 0 && error[0].confirmPassword){ %>is-invalid <% } %>"
          id="confirmPassword" placeholder="Confirm your password">
        <% if (error && error.length > 0 && error[0].confirmPassword) { %>
        <small class="invalid-feedback">
          <%= error[0].confirmPassword %>
        </small>
        <% } %>
      </div>
      <button type="submit" class="btn btn-signup btn-primary btn-block">Signup</button>
    </form>
    <div class="info">
      <a href="/user/forgot">
        <small class=" info text">Forgot your password?</small>
      </a>
      <a href="/user/activation/resend">
        <small class=" info text">Resend account activation token</small>
      </a>
      <a href="/login">
        <small class="info text">Already have a account</small>
      </a>
    </div>
  </div>
</body>
<% include ../partials/footer %>
